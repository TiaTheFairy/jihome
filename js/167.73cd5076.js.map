{"version":3,"file":"js/167.73cd5076.js","mappings":"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","sources":["webpack://jihome_front/./src/components/pages/page_market/MarketDetail.vue","webpack://jihome_front/src/components/pages/page_market/MarketDetail.vue","webpack://jihome_front/./src/components/pages/page_market/MarketDetail.vue?4b1a","webpack://jihome_front/./src/components/pages/page_market/MarketDetail.vue?e8ae"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[_c('el-card',{staticClass:\"card\",attrs:{\"shadow\":\"hover\"}},[_c('el-divider',{staticClass:\"divider\",attrs:{\"content-position\":\"right\"},on:{\"click\":_vm.closeMarketDetail}},[_c('div',{staticClass:\"back\"},[_c('el-image',{staticClass:\"backIcon\",attrs:{\"src\":require('@/../public/assets/return.png')}}),_c('span',{staticClass:\"backWord\"},[_vm._v(_vm._s(_vm.$t('Market.DetailReturn')))])],1)]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"itemInfo section\"},[_c('div',{staticClass:\"itemName\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.itemName))]),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('Market.DetailName')))])]),_c('div',{staticClass:\"itemVersion item\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailVersion')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.itemVersion))])]),_c('div',{staticClass:\"itemPublish item\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailPublish')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.itemPublish))])])]),_c('div',{staticClass:\"itemClass item section\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailClass')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.classname)+\" (\"+_vm._s(_vm.school)+\")\")])]),_c('div',{staticClass:\"itemStatus section\"},[_c('div',{staticClass:\"broken item\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailBroken')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.broken))])]),_c('div',{staticClass:\"written item\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailWritten')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.written))])])]),_c('div',{staticClass:\"picture section\"},[_c('el-image',{attrs:{\"src\":_vm.picture,\"width\":\"200px\"}})],1),_c('div',{staticClass:\"user section\"},[_c('div',{staticClass:\"username item\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailUser')))]),_c('span',{staticClass:\"right\",on:{\"click\":function($event){return _vm.openUserPage(_vm.userID)}}},[_vm._v(_vm._s(_vm.username)+\" (\"+_vm._s(_vm.realname)+\")\")])]),_c('div',{staticClass:\"username item\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Market.DetailTime')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.time))])])])]),_c('div',{staticClass:\"buttons\"},[_c('el-image',{staticClass:\"aAction\",attrs:{\"src\":require('@/../public/assets/share.png')},on:{\"click\":_vm.clickShare}}),(_vm.isOwner||_vm.isAdmin)?_c('el-image',{staticClass:\"aAction\",attrs:{\"src\":require('@/../public/assets/delete.png')},on:{\"click\":_vm.clickDelete}}):_c('el-image',{staticClass:\"aAction\",attrs:{\"src\":require('@/../public/assets/report.png')},on:{\"click\":function($event){return _vm.clickReport(\"md\",_vm.itemID)}}})],1),_c('div',{staticClass:\"purchase\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isOwner},on:{\"click\":_vm.purchase}},[_vm._v(_vm._s(_vm.$t('Market.DetailPurchase'))+\" (￥\"+_vm._s(_vm.price)+\" )\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <el-card shadow='hover' class='card'>\r\n        <el-divider class='divider' content-position=\"right\" @click='closeMarketDetail'>\r\n          <div class='back'>\r\n            <el-image class='backIcon' :src=\"require('@/../public/assets/return.png')\"></el-image>\r\n            <span class='backWord'>{{$t('Market.DetailReturn')}}</span>\r\n          </div>\r\n        </el-divider>\r\n\r\n        <div class='content'>\r\n          <div class='itemInfo section'>\r\n            <div class='itemName'>\r\n              <span class='name'>{{itemName}}</span>\r\n              <span class='label'>{{$t('Market.DetailName')}}</span>\r\n            </div>\r\n            <div class='itemVersion item'>\r\n              <span class='left'>{{$t('Market.DetailVersion')}}</span>\r\n              <span class='right'>{{itemVersion}}</span>\r\n            </div>\r\n            <div class='itemPublish item'>\r\n              <span class='left'>{{$t('Market.DetailPublish')}}</span>\r\n              <span class='right'>{{itemPublish}}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class='itemClass item section'>\r\n            <span class='left'>{{$t('Market.DetailClass')}}</span>\r\n            <span class='right'>{{classname}} ({{school}})</span>\r\n          </div>\r\n\r\n          <div class='itemStatus section'>\r\n            <div class='broken item'>\r\n              <span class='left'>{{$t('Market.DetailBroken')}}</span>\r\n              <span class='right'>{{broken}}</span>\r\n            </div>\r\n            <div class='written item'>\r\n              <span class='left'>{{$t('Market.DetailWritten')}}</span>\r\n              <span class='right'>{{written}}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class='picture section'>\r\n            <el-image :src=\"picture\" width=\"200px\"></el-image>\r\n          </div>\r\n\r\n          <div class='user section'>\r\n            <div class='username item'>\r\n              <span class='left'>{{$t('Market.DetailUser')}}</span>\r\n              <span class='right' @click='openUserPage(userID)'>{{username}} ({{realname}})</span>\r\n            </div>\r\n            <div class='username item'>\r\n              <span class='left'>{{$t('Market.DetailTime')}}</span>\r\n              <span class='right'>{{time}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class='buttons'>\r\n          <el-image class='aAction' :src=\"require('@/../public/assets/share.png')\" @click='clickShare'>\r\n          </el-image>\r\n          <el-image class='aAction' :src=\"require('@/../public/assets/delete.png')\" v-if='isOwner||isAdmin'\r\n            @click='clickDelete'>\r\n          </el-image>\r\n          <el-image class='aAction' :src=\"require('@/../public/assets/report.png')\" v-else\r\n            @click='clickReport(\"md\",itemID)'>\r\n          </el-image>\r\n        </div>\r\n\r\n        <div class='purchase'>\r\n          <el-button type='primary' :disabled='isOwner' @click='purchase'>{{$t('Market.DetailPurchase')}} (￥{{price}}\r\n            )</el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie'\r\nimport * as server from '../../../server.js'\r\nimport { customAlphabet } from 'nanoid';\r\nconst nanoid = customAlphabet('1234567890', 9);\r\n\r\nexport default {\r\n  name: 'market-detail',\r\n  data () {\r\n    return {\r\n      itemID: 0,\r\n      userID: 0,\r\n      username: '',\r\n      realname: '',\r\n      itemName: '',\r\n      itemVersion: '',\r\n      itemPublish: '',\r\n      classname: '',\r\n      school: 0,\r\n      price: 0,\r\n      broken: 0,\r\n      written: 0,\r\n      picture: '',\r\n      time: '',\r\n      isOwner: false,\r\n      isAdmin: false,\r\n    }\r\n  },\r\n  methods: {\r\n    clickShare () {\r\n      this.copyLink(this.$t('Market.DetailShared'));\r\n    },\r\n    closeMarketDetail () {\r\n      this.$bus.$emit('showMarketList')\r\n    },\r\n    getMarketDetail () {\r\n      const loadingInstance = this.loading();\r\n      axios({\r\n        method: 'post',\r\n        url: server.default.getMarketItem,\r\n        data: new URLSearchParams({\r\n          'itemid': this.itemID,\r\n          'cookie': Cookies.get('loginCookie')\r\n        })\r\n      }).then((response) => {\r\n        loadingInstance.close();\r\n        if (response.status != 200) {\r\n          this.alert(this.$t('System.NetworkIssue'), this.$t('System.Error'))\r\n        }\r\n        else {\r\n          if (response.data.status == 'MARKET_GETITEM_COMPLETE') {\r\n            if (this.itemID == response.data.itemID) {\r\n              this.userID = response.data.userID;\r\n              this.username = response.data.username;\r\n              this.realname = response.data.realname;\r\n              this.itemName = response.data.itemName;\r\n              this.itemVersion = response.data.itemVersion;\r\n              this.itemPublish = response.data.itemPublish;\r\n              this.school = this.formatSchool(response.data.school);\r\n              this.classname = response.data.classname;\r\n              this.price = response.data.price;\r\n              this.broken = response.data.broken + '%';\r\n              this.written = response.data.written + '%';\r\n              this.time = this.formatTime(response.data.time);\r\n              this.picture = server.default.server + response.data.picture;\r\n              this.isOwner = response.data.isOwner;\r\n            }\r\n          }\r\n          else {\r\n            this.notfound();\r\n          }\r\n        }\r\n      })\r\n    },\r\n    clickDelete () {\r\n      if (this.isOwner || this.isAdmin) {\r\n        this.$confirm(this.$t('Market.DetailDeleteWarn'), this.$t('System.Warning'), {\r\n          confirmButtonText: this.$t('System.Yes'),\r\n          cancelButtonText: this.$t('System.No'),\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const loadingInstance = this.loading();\r\n\r\n          axios({\r\n            method: 'post',\r\n            url: server.default.deleteMarketItem,\r\n            data: new URLSearchParams({\r\n              'cookie': Cookies.get('loginCookie'),\r\n              'itemid': this.itemID,\r\n            })\r\n          }).then((response) => {\r\n            loadingInstance.close();\r\n            if (response.status != 200) {\r\n              this.alert(this.$t('System.NetworkIssue'), this.$t('System.Error'))\r\n            }\r\n            else if (response.data == 'MARKET_DELETE_COMPLETE') {\r\n              this.$message.success(this.$t('Market.DetailDeleteComplete'));\r\n              this.$bus.$emit('refreshMarketList');\r\n              this.$bus.$emit('showMarketList');\r\n            }\r\n          })\r\n        }).catch(() => { });\r\n      }\r\n    },\r\n    clickReport (target, targetid) {\r\n      this.$prompt(this.$t('General.ReportReason'), this.$t('General.Report'), {}).then((value) => {\r\n        if (!value.value) {\r\n          return;\r\n        }\r\n        else {\r\n          this.report(Cookies.get('loginCookie'), target, targetid, value.value, location.href);\r\n        }\r\n      })\r\n    },\r\n    purchase () {\r\n      this.$prompt(this.$t('Market.DetailPurchasePlace'), this.$t('Market.DetailPurchase'), {\r\n        confirmButtonText: this.$t('System.Confirm'),\r\n        cancelButtonText: this.$t('System.Cancel'),\r\n      }).then(({ value }) => {\r\n        if (value && value.length > 2) {\r\n          const loadingInstance = this.loading();\r\n\r\n          axios({\r\n            method: 'post',\r\n            url: server.default.purchaseMarketItem,\r\n            data: new URLSearchParams({\r\n              'alertid': nanoid(),\r\n              'cookie': Cookies.get('loginAs'),\r\n              'itemid': this.itemID,\r\n              'userid': this.userID,\r\n              'location': value\r\n            })\r\n          }).then((response) => {\r\n            console.log(response);\r\n            loadingInstance.close();\r\n            if (response.status != 200) {\r\n              this.alert(this.$t('System.NetworkIssue'), this.$t('System.Error'))\r\n            }\r\n            else {\r\n              if (response.data == 'MARKET_PURCHASE_ALERTIDTAKEN') {\r\n                this.claimORontact(value);\r\n              }\r\n              else if (response.data == 'MARKET_PURCHASE_LATE') {\r\n                this.alert(this.$t('Market.DetailPurchaseLate'), this.$t('System.Info'));\r\n                this.closeMarketDetail();\r\n              }\r\n              else if (response.data == 'MARKET_PURCHASE_PURSELEAK') {\r\n                this.alert(this.$('Market.DetailPurchasePurseLeak'), this.$t('System.Info'));\r\n              }\r\n              else if (response.data == 'MARKET_PURCHASE_COMPLETE') {\r\n                this.$bus.$emit('refreshMarketList');\r\n                this.alert(this.$t('Market.DetailPurchaseComplete'), this.$t('System.Info'));\r\n                this.closeMarketDetail();\r\n              }\r\n              else {\r\n                this.alert('Unexpected Response!', this.$t('System.Error'));\r\n              }\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.purchase();\r\n          return;\r\n        }\r\n      }).catch(() => { });\r\n    }\r\n  },\r\n  mounted () {\r\n    this.itemID = this.$route.params.id;\r\n    this.getMarketDetail();\r\n    this.isAdmin = this.getIfAdmin();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  margin-left: 5%;\r\n  width: 90%;\r\n  border-radius: 20px;\r\n}\r\n.divider {\r\n  width: 90%;\r\n  margin-left: 5%;\r\n}\r\n.back {\r\n  cursor: pointer;\r\n}\r\n.backIcon {\r\n  color: rgb(252, 62, 5);\r\n  width: 20px;\r\n}\r\n.backWord {\r\n  font-size: 18px;\r\n  margin-left: 10px;\r\n}\r\n.content {\r\n  text-align: left;\r\n  margin-left: 13%;\r\n  margin-top: 50px;\r\n  margin-bottom: 40px;\r\n  width: 74%;\r\n  font-size: 25px;\r\n}\r\n.item {\r\n  margin-top: 10px;\r\n}\r\n.section {\r\n  margin-top: 30px;\r\n}\r\n.itemName .name {\r\n  font-size: 40px;\r\n  font-weight: bolder;\r\n  margin-right: 20px;\r\n}\r\n.left,\r\n.itemName .label {\r\n  font-size: 20px;\r\n}\r\n.right {\r\n  float: right;\r\n  font-weight: bold;\r\n}\r\n.picture {\r\n  text-align: center;\r\n}\r\n.picture .el-image {\r\n  width: 200px;\r\n  height: 280px;\r\n}\r\n.user .right {\r\n  font-size: 20px;\r\n  font-weight: normal;\r\n  cursor: pointer;\r\n}\r\n.buttons {\r\n  text-align: right;\r\n  margin-right: 12%;\r\n  font-size: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n.aAction {\r\n  width: 25px;\r\n  margin-right: 15px;\r\n  cursor: pointer;\r\n}\r\n.purchase .el-button {\r\n  font-size: 20px;\r\n  width: 20%;\r\n  border-radius: 15px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarketDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarketDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarketDetail.vue?vue&type=template&id=499c687c&scoped=true&\"\nimport script from \"./MarketDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MarketDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MarketDetail.vue?vue&type=style&index=0&id=499c687c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"499c687c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","closeMarketDetail","require","_v","_s","$t","itemName","itemVersion","itemPublish","classname","school","broken","written","picture","$event","openUserPage","userID","username","realname","time","clickShare","isOwner","isAdmin","clickDelete","clickReport","itemID","purchase","price","staticRenderFns","nanoid","customAlphabet","name","data","methods","copyLink","$bus","$emit","getMarketDetail","loadingInstance","loading","axios","method","url","server","URLSearchParams","Cookies","then","response","close","status","alert","formatSchool","formatTime","notfound","$confirm","confirmButtonText","cancelButtonText","type","$message","success","catch","target","targetid","$prompt","value","report","location","href","length","console","log","claimORontact","$","mounted","$route","params","id","getIfAdmin","component"],"sourceRoot":""}