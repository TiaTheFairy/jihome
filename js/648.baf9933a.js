"use strict";(self["webpackChunkjihome_front"]=self["webpackChunkjihome_front"]||[]).push([[648],{7648:function(t,s,e){e.r(s),e.d(s,{default:function(){return p}});var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"history"},[s("div",{staticClass:"title"},[t._v(t._s(this.$t("User.History")))]),s("el-table",{staticClass:"table",attrs:{data:t.posts,stripe:"","show-header":!1}},[s("el-table-column",{attrs:{prop:"typeFormat","min-width":"140"}}),s("el-table-column",{attrs:{prop:"item","min-width":"300"}}),s("el-table-column",{attrs:{prop:"time","min-width":"170"}}),s("el-table-column",{attrs:{"miin-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"open",on:{click:function(s){return t.showPage(e.row.type,e.row.id)}}},[t._v(t._s(t.$t("User.HistoryCheck")))])]}}])})],1)],1)},i=[],a=(e(7658),e(4161)),o=e(680),l=e(1780),n={name:"user-history",data(){return{posts:[],comments:[],likes:[]}},methods:{getUserHistory(){if(!o.Z.get("loginCookie"))return void this.goLogin();const t=this.loading();(0,a.Z)({method:"post",url:l.Z.userHistory,data:new URLSearchParams({cookie:o.Z.get("loginAs")})}).then((s=>{if(t.close(),200!=s.status)this.alert(this.$t("System.NetworkIssue"),this.$t("System.Error"));else if("USER_NOMATCH"==s.data)this.alert(this.$t("System.IllegalRequest"),this.$t("System.Error"));else if("USER_FOUND"==s.data.status){this.posts=s.data.posts;for(let t in this.posts)this.posts[t].typeFormat=this.typeFormat(this.posts[t].type),this.posts[t].time=this.formatTime(this.posts[t].time)}else this.alert("Unexpected Response!",this.$t("System.Error"))}))},tableRowClass({row:t,rowIndex:s}){t.row_index=s},showPage(t,s){switch(t){case"h":this.$router.push({name:"hollowDetail",params:{id:s}});break;case"m":this.$router.push({name:"marketDetail",params:{id:s}});break;case"n":this.$router.push({name:"newsDetail",params:{id:s}});break;case"l":this.$router.push({name:"lafDetail",params:{id:s}});break}},typeFormat(t){switch(t){case"h":return this.$t("Hollow.Title");case"m":return this.$t("Market.Title");case"n":return this.$t("News.Title");case"l":return this.$t("Laf.Title")}return""}},mounted(){this.getUserHistory()}},h=n,u=e(1001),m=(0,u.Z)(h,r,i,!1,null,"4ec98526",null),p=m.exports}}]);
//# sourceMappingURL=648.baf9933a.js.map