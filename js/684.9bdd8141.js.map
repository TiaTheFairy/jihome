{"version":3,"file":"js/684.9bdd8141.js","mappings":"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","sources":["webpack://jihome_front/./src/components/pages/page_laf/LafDetail.vue","webpack://jihome_front/src/components/pages/page_laf/LafDetail.vue","webpack://jihome_front/./src/components/pages/page_laf/LafDetail.vue?7c84","webpack://jihome_front/./src/components/pages/page_laf/LafDetail.vue?8a3d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[_c('el-card',{staticClass:\"card\",attrs:{\"shadow\":\"hover\"}},[_c('el-divider',{staticClass:\"divider\",attrs:{\"content-position\":\"right\"},on:{\"click\":_vm.closeLafDetail}},[_c('div',{staticClass:\"back\"},[_c('el-image',{staticClass:\"backIcon\",attrs:{\"src\":require('@/../public/assets/return.png')}}),_c('span',{staticClass:\"backWord\"},[_vm._v(_vm._s(_vm.$t('General.Return')))])],1)]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"top\"},[_c('span',{staticClass:\"type\"},[_vm._v(_vm._s(_vm.typeShow))]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.name))])]),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.desc))]),_c('div',{staticClass:\"location\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Laf.Location')))]),_c('span',{staticClass:\"right\"},[_c('span',{staticClass:\"school\"},[_vm._v(_vm._s(_vm.schoolShow))]),_c('span',{staticClass:\"aLocation\"},[_vm._v(\" \"+_vm._s(_vm.location))])])]),_c('div',{staticClass:\"thatTime\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Laf.Time')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.thatTime))])])]),(_vm.picture)?_c('div',{staticClass:\"picture\"},[_c('el-image',{attrs:{\"src\":_vm.picture,\"width\":\"200px\"}})],1):_vm._e(),(_vm.type==0)?_c('div',{staticClass:\"placeLocation\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Laf.Place')))]),_c('span',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.placeLocation))])]):_vm._e(),_c('div',{staticClass:\"user\"},[_c('span',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t('Laf.DetailUser')))]),_c('span',{staticClass:\"right\"},[_c('span',{staticClass:\"username\",on:{\"click\":function($event){return _vm.openUserPage(_vm.userID)}}},[_vm._v(_vm._s(_vm.username))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.$t('Laf.DetailTimeAt'))+\" \"+_vm._s(_vm.time))])])])]),_c('div',{staticClass:\"buttons\"},[_c('el-image',{staticClass:\"aAction\",attrs:{\"src\":require('@/../public/assets/share.png')},on:{\"click\":_vm.clickShare}}),(_vm.isOwner||_vm.isAdmin)?_c('el-image',{staticClass:\"aAction\",attrs:{\"src\":require('@/../public/assets/delete.png')},on:{\"click\":_vm.clickDelete}}):_c('el-image',{staticClass:\"aAction\",attrs:{\"src\":require('@/../public/assets/report.png')},on:{\"click\":function($event){return _vm.clickReport(\"ld\", _vm.lafID)}}})],1),_c('div',{staticClass:\"claim\"},[(_vm.type==0)?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isOwner},on:{\"click\":_vm.claim}},[_vm._v(_vm._s(_vm.$t('Laf.DetailClaim')))]):_vm._e(),(_vm.type==1)?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isOwner},on:{\"click\":_vm.contact}},[_vm._v(_vm._s(_vm.$t('Laf.DetailContact')))]):_vm._e()],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <el-card shadow='hover' class='card'>\r\n        <el-divider class='divider' content-position=\"right\" @click='closeLafDetail'>\r\n          <div class='back'>\r\n            <el-image class='backIcon' :src=\"require('@/../public/assets/return.png')\"></el-image>\r\n            <span class='backWord'>{{$t('General.Return')}}</span>\r\n          </div>\r\n        </el-divider>\r\n\r\n        <div class='content'>\r\n          <div class='top'>\r\n            <span class='type'>{{typeShow}}</span>\r\n            <span class='name'>{{name}}</span>\r\n          </div>\r\n\r\n          <div class='middle'>\r\n            <div class='desc'>{{desc}}</div>\r\n\r\n            <div class='location'>\r\n              <span class='left'>{{$t('Laf.Location')}}</span>\r\n\r\n              <span class='right'>\r\n                <span class='school'>{{schoolShow}}</span>\r\n                <span class='aLocation'> {{location}}</span>\r\n              </span>\r\n            </div>\r\n\r\n            <div class='thatTime'>\r\n              <span class='left'>{{$t('Laf.Time')}}</span>\r\n              <span class='right'>{{thatTime}}</span>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class='picture' v-if='picture'>\r\n            <el-image :src=\"picture\" width=\"200px\"></el-image>\r\n          </div>\r\n\r\n          <div class='placeLocation' v-if='type==0'>\r\n            <span class='left'>{{$t('Laf.Place')}}</span>\r\n            <span class='right'>{{placeLocation}}</span>\r\n          </div>\r\n\r\n          <div class='user'>\r\n            <span class='left'>{{$t('Laf.DetailUser')}}</span>\r\n            <span class='right'>\r\n              <span class='username' @click='openUserPage(userID)'>{{username}}</span>\r\n              <span class='time'>{{$t('Laf.DetailTimeAt')}} {{time}}</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class='buttons'>\r\n          <el-image class='aAction' :src=\"require('@/../public/assets/share.png')\" @click='clickShare'>\r\n          </el-image>\r\n          <el-image class='aAction' :src=\"require('@/../public/assets/delete.png')\" v-if='isOwner||isAdmin'\r\n            @click='clickDelete'>\r\n          </el-image>\r\n          <el-image class='aAction' :src=\"require('@/../public/assets/report.png')\" v-else\r\n            @click='clickReport(\"ld\", lafID)'>\r\n          </el-image>\r\n        </div>\r\n\r\n        <div class='claim'>\r\n          <el-button type='primary' :disabled='isOwner' v-if='type==0'\r\n            @click='claim'>{{$t('Laf.DetailClaim')}}</el-button>\r\n          <el-button type='primary' :disabled='isOwner' v-if='type==1'\r\n            @click='contact'>{{$t('Laf.DetailContact')}}</el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie'\r\nimport * as server from '../../../server.js'\r\nimport { customAlphabet } from 'nanoid';\r\nconst nanoid = customAlphabet('1234567890', 9);\r\n\r\nexport default {\r\n  name: 'laf-detail',\r\n  data () {\r\n    return {\r\n      lafID: 0,\r\n      userID: 0,\r\n      username: '',\r\n      type: 0,\r\n      typeShow: '',\r\n      name: '',\r\n      desc: '',\r\n      school: 0,\r\n      schoolShow: '',\r\n      location: '',\r\n      placeLocation: '',\r\n      thatTime: '',\r\n      picture: '',\r\n      time: '',\r\n      isOwner: false,\r\n      isAdmin: false\r\n    }\r\n  },\r\n  methods: {\r\n    clickShare () {\r\n      this.copyLink(this.$t('Laf.DetailShared'));\r\n    },\r\n    closeLafDetail () {\r\n      this.$bus.$emit('showLafList')\r\n    },\r\n    getLafDetail () {\r\n      const loadingInstance = this.loading();\r\n      axios({\r\n        method: 'post',\r\n        url: server.default.getLafItem,\r\n        data: new URLSearchParams({\r\n          'lafid': this.lafID,\r\n          'cookie': Cookies.get('loginCookie')\r\n        })\r\n      }).then((response) => {\r\n        loadingInstance.close();\r\n        if (response.status != 200) {\r\n          this.alert(this.$t('System.NetworkIssue'), this.$t('System.Error'))\r\n        }\r\n        else {\r\n          if (response.data.status == 'LAF_GETITEM_COMPLETE') {\r\n            if (this.lafID == response.data.lafid) {\r\n              this.userID = response.data.userid;\r\n              this.username = response.data.username;\r\n              this.type = response.data.type;\r\n              this.typeShow = this.type == '0' ? this.$t('Laf.DetailFound') : this.$t('Laf.DetailLost');\r\n              this.name = response.data.name;\r\n              this.desc = response.data.desc;\r\n              this.school = response.data.school;\r\n              this.schoolShow = ' ' + this.formatSchool(this.school) + ' ';\r\n              this.location = response.data.location;\r\n              this.placeLocation = response.data.placelocation || this.$t('Laf.PlaceKeep');\r\n              this.thatTime = this.formatTime(response.data.thattime);\r\n              this.time = this.formatTime(response.data.time);\r\n              this.picture = response.data.picture == '' ? '' : server.default.server + response.data.picture;\r\n              this.isOwner = response.data.isOwner;\r\n            }\r\n          }\r\n          else {\r\n            this.notfound();\r\n          }\r\n        }\r\n      })\r\n    },\r\n    clickDelete () {\r\n      if (this.isOwner) {\r\n        this.$confirm(this.$t('Laf.DetailDeleteWarn'), this.$t('System.Warning'), {\r\n          confirmButtonText: this.$t('System.Yes'),\r\n          cancelButtonText: this.$t('System.No'),\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const loadingInstance = this.loading();\r\n\r\n          axios({\r\n            method: 'post',\r\n            url: server.default.deleteLafItem,\r\n            data: new URLSearchParams({\r\n              'cookie': Cookies.get('loginCookie'),\r\n              'lafid': this.lafID,\r\n            })\r\n          }).then((response) => {\r\n            loadingInstance.close();\r\n            if (response.status != 200) {\r\n              this.alert(this.$t('System.NetworkIssue'), this.$t('System.Error'))\r\n            }\r\n            else if (response.data == 'LAF_DELETE_COMPLETE') {\r\n              this.$message.success(this.$t('Laf.DetailDeleteComplete'));\r\n              this.$bus.$emit('refreshLafList');\r\n              this.$bus.$emit('showLafList');\r\n            }\r\n          })\r\n        }).catch(() => { });\r\n      }\r\n    },\r\n    clickReport (target, targetid) {\r\n      this.$prompt(this.$t('General.ReportReason'), this.$t('General.Report'), {}).then((value) => {\r\n        if (!value.value) {\r\n          return;\r\n        }\r\n        else {\r\n          this.report(Cookies.get('loginCookie'), target, targetid, value.value, location.href);\r\n        }\r\n      })\r\n    },\r\n    claim () {\r\n      if (this.placeLocation != this.$t('Laf.PlaceKeep')) {\r\n        this.$confirm(this.$t('Laf.DetailClaimPlaced'), this.$t('Laf.DetailClaim'), {\r\n          confirmButtonText: this.$t('System.Confirm'),\r\n          cancelButtonText: this.$t('System.Cancel'),\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.claimORontact();\r\n        }).catch(() => { });\r\n      }\r\n      else {\r\n        this.$prompt(this.$t('Laf.DetailClaimPlace'), this.$t('Laf.DetailClaim'), {\r\n          confirmButtonText: this.$t('System.Confirm'),\r\n          cancelButtonText: this.$t('System.Cancel'),\r\n        }).then(({ value }) => {\r\n          if (value && value.length > 2) {\r\n            this.claimORontact(value);\r\n          }\r\n          else {\r\n            this.contact();\r\n            return;\r\n          }\r\n        }).catch(() => { });\r\n      }\r\n    },\r\n    contact () {\r\n      this.$prompt(this.$t('Laf.DetailClaimPlaceAt'), this.$t('Laf.DetailContact'), {\r\n        confirmButtonText: this.$t('System.Confirm'),\r\n        cancelButtonText: this.$t('System.Cancel'),\r\n      }).then(({ value }) => {\r\n        if (value && value.length > 2) {\r\n          this.claimORontact(value);\r\n        }\r\n        else {\r\n          this.contact();\r\n          return;\r\n        }\r\n      }).catch(() => { });\r\n    },\r\n    claimORontact (value) {\r\n      const loadingInstance = this.loading();\r\n\r\n      axios({\r\n        method: 'post',\r\n        url: server.default.claimLafItem,\r\n        data: new URLSearchParams({\r\n          'alertid': nanoid(),\r\n          'cookie': Cookies.get('loginAs'),\r\n          'lafid': this.lafID,\r\n          'userid': this.userID,\r\n          'location': value || this.placeLocation\r\n        })\r\n      }).then((response) => {\r\n        loadingInstance.close();\r\n        if (response.status != 200) {\r\n          this.alert(this.$t('System.NetworkIssue'), this.$t('System.Error'))\r\n        }\r\n        else {\r\n          if (response.data == 'LAF_CLAIM_ALERTIDTAKEN') {\r\n            this.claimORontact(value);\r\n          }\r\n          else if (response.data == 'LAF_CLAIM_COMPLETE') {\r\n            this.alert(this.$t('Laf.DetailClaimOrContactComplete'), this.$t('System.Info'));\r\n            this.$bus.$emit('refreshLafList');\r\n            this.closeLafDetail();\r\n          }\r\n          else {\r\n            this.alert('Unexpected Response!', this.$t('System.Error'));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted () {\r\n    this.lafID = this.$route.params.id;\r\n    this.getLafDetail();\r\n    this.isAdmin = this.getIfAdmin();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  margin-left: 5%;\r\n  width: 90%;\r\n  border-radius: 20px;\r\n}\r\n.divider {\r\n  width: 90%;\r\n  margin-left: 5%;\r\n}\r\n.back {\r\n  cursor: pointer;\r\n}\r\n.backIcon {\r\n  color: rgb(252, 62, 5);\r\n  width: 20px;\r\n}\r\n.backWord {\r\n  font-size: 18px;\r\n  margin-left: 10px;\r\n}\r\n.content {\r\n  text-align: left;\r\n  margin-left: 13%;\r\n  margin-top: 50px;\r\n  width: 74%;\r\n  font-size: 25px;\r\n}\r\n.top {\r\n  font-size: 35px;\r\n  margin-bottom: 20px;\r\n}\r\n.top .name {\r\n  margin-left: 15px;\r\n  font-weight: bolder;\r\n}\r\n.middle {\r\n  font-size: 20px;\r\n}\r\n.location {\r\n  margin-top: 30px;\r\n}\r\n.thatTime {\r\n  margin-top: 15px;\r\n}\r\n.picture {\r\n  text-align: center;\r\n  margin-top: 40px;\r\n  margin-bottom: 40px;\r\n}\r\n.picture .el-image {\r\n  width: 200px;\r\n  height: 280px;\r\n}\r\n.placeLocation {\r\n  font-size: 20px;\r\n  margin-bottom: 15px;\r\n}\r\n.user {\r\n  margin-top: 30px;\r\n  font-size: 20px;\r\n}\r\n.username {\r\n  margin-right: 20px;\r\n  cursor: pointer;\r\n}\r\n.right {\r\n  float: right;\r\n}\r\n.buttons {\r\n  text-align: right;\r\n  margin-right: 12%;\r\n  font-size: 20px;\r\n  margin-bottom: 20px;\r\n  margin-top: 30px;\r\n}\r\n.aAction {\r\n  width: 25px;\r\n  margin-right: 15px;\r\n  cursor: pointer;\r\n}\r\n.claim .el-button {\r\n  font-size: 20px;\r\n  width: 20%;\r\n  border-radius: 15px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LafDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LafDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LafDetail.vue?vue&type=template&id=a9299a30&scoped=true&\"\nimport script from \"./LafDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./LafDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LafDetail.vue?vue&type=style&index=0&id=a9299a30&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a9299a30\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","closeLafDetail","require","_v","_s","$t","typeShow","name","desc","schoolShow","location","thatTime","picture","_e","type","placeLocation","$event","openUserPage","userID","username","time","clickShare","isOwner","isAdmin","clickDelete","clickReport","lafID","claim","contact","staticRenderFns","nanoid","customAlphabet","data","school","methods","copyLink","$bus","$emit","getLafDetail","loadingInstance","loading","axios","method","url","server","URLSearchParams","Cookies","then","response","close","status","alert","lafid","userid","formatSchool","placelocation","formatTime","thattime","notfound","$confirm","confirmButtonText","cancelButtonText","$message","success","catch","target","targetid","$prompt","value","report","href","claimORontact","length","mounted","$route","params","id","getIfAdmin","component"],"sourceRoot":""}